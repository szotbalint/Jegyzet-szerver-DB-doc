<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jegyzetszerver: Vdlp.Redirect documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Jegyzetszerver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Vdlp.Redirect documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This plugin should be easy to understand if you are familiar with the basics of the web. If you have issues setting up some redirects, please do not hesitate to contact me.</p>
<h1><a class="anchor" id="autotoc_md705"></a>
Redirect types</h1>
<p>This plugins ships with two types of redirects:</p>
<ul>
<li><b>Exact</b>; performs an exact match on the Source path.</li>
<li><b>Placeholders</b>; matches placeholders like {id} or {category} (like the defined routes in Symfony or Laravel framework).</li>
<li><b>Regular expression</b>; Use regular expressions to match multiple patterns at once (advanced).</li>
</ul>
<h1><a class="anchor" id="autotoc_md706"></a>
Redirect target types</h1>
<p>This plugin allows you to redirect to the following types:</p>
<ul>
<li>An internal path</li>
<li>An internal CMS Page</li>
<li>An internal Static Page (<code>RainLab.Pages</code> plugin)</li>
<li>An external URL</li>
</ul>
<h1><a class="anchor" id="autotoc_md707"></a>
Relative vs. Absolute URLs</h1>
<p>Both types are supported by the Redirect plugin. Absolute URLs are generated by default. This setting can be changed at the Redirect Settings page.</p>
<p>In some cases it is necessary to use Relative URLs only. When using a reverse proxy for example. Or when you are hosting multiple domains on one single codebase.</p>
<p>Example when Absolute URLs are enabled (default):</p>
<div class="fragment"><div class="line">Source path: /path/from</div>
<div class="line">Target path: /path/to</div>
<div class="line">Result path when matched: https://example.com/path/to</div>
</div><!-- fragment --><p>Example when Relative URLs are enabled:</p>
<div class="fragment"><div class="line">Source path: /path/from</div>
<div class="line">Target path: /path/to</div>
<div class="line">Result path when matched: /path/to</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md708"></a>
Scheme matching</h1>
<p>This plugin allows you to match requests from a <code><a href="http://">http://</a></code> scheme to a <code><a href="https://">https://</a></code> scheme and vice versa.</p>
<h1><a class="anchor" id="autotoc_md709"></a>
Placeholders</h1>
<p>Every placeholder can be attached to a requirement. A requirement consists of a <code>placeholder</code>, <code>requirement</code> and an optional <code>replacement</code> value.</p>
<p>Example:</p>
<div class="fragment"><div class="line">Input path:</div>
<div class="line">/blog.php?category=cat&amp;id=145</div>
<div class="line"> </div>
<div class="line">Source path:</div>
<div class="line">/blog.php?category={category}&amp;id={id}</div>
<div class="line"> </div>
<div class="line">Target path:</div>
<div class="line">/blog/{category}/{id}</div>
<div class="line"> </div>
<div class="line">Result path:</div>
<div class="line">/blog/cat/145</div>
</div><!-- fragment --><ul>
<li>The requirement for <code>{category}</code> would be: <code>[a-zA-Z]</code> or could be more specific like <code>(dog|cat|mouse)</code>.</li>
<li>The requirement for <code>{id}</code> would be: <code>[0-9]+</code>.</li>
</ul>
<p><b>Replacement value</b></p>
<p>A requirement can also contain a replacement value. Provide this replacement value if you need to rewrite a certain placeholder to a static value.</p>
<p>Example:</p>
<p>The requirement for <code>{category}</code> is <code>(dog|cat|mouse)</code>, with replacement value <code>animals</code>.</p>
<div class="fragment"><div class="line">Input path:</div>
<div class="line">/blog.php?category=mouse&amp;id=1337</div>
<div class="line"> </div>
<div class="line">Source path:</div>
<div class="line">/blog.php?category={category}&amp;id={id}</div>
<div class="line"> </div>
<div class="line">Target path:</div>
<div class="line">/blog/{category}/{id}</div>
<div class="line"> </div>
<div class="line">Result:</div>
<div class="line">/blog/animals/1337</div>
</div><!-- fragment --><p><img src="https://i.imgur.com/928z7pI.png" alt="" class="inline"/></p>
<p>Result in TestLab:</p>
<p><img src="https://i.imgur.com/BswnUAo.png" alt="" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md710"></a>
Redirect Target</h1>
<p>You can select a CMS Page as a Redirect target. Placeholders are supported. Let's assume there is a page 'Blog' with the following URL: <code>/blog/:category/:subcategory</code>.</p>
<p>It is possible to create a Redirect with placeholders that has this CMS Page as a target:</p>
<div class="fragment"><div class="line">Redirect with:</div>
<div class="line">Source: `/blog.php?cat={category}&amp;subcat={subcategory}`</div>
<div class="line">Placeholders: {category}, {subcategory}</div>
<div class="line">Target: CMS Page `Blog`</div>
<div class="line"> </div>
<div class="line">Request path: /blog.php?cat=news&amp;subcat=general</div>
<div class="line">Result: /blog/news/general</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md711"></a>
Events</h1>
<h2><a class="anchor" id="autotoc_md712"></a>
Fires events</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Event   </th><th class="markdownTableHeadNone">Payload   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>vdlp.redirect.match</code>   </td><td class="markdownTableBodyNone">none   </td><td class="markdownTableBodyNone">When a request matched, right before the redirect response.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>vdlp.redirect.changed</code>   </td><td class="markdownTableBodyNone">int[] $redirectId   </td><td class="markdownTableBodyNone">When one or more redirects are changed.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md713"></a>
Listens to events</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Event   </th><th class="markdownTableHeadNone">Payload   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>vdlp.redirect.toUrlChanged</code>   </td><td class="markdownTableBodyNone"><code>string $oldUrl, string $newUrl</code>   </td><td class="markdownTableBodyNone">Can be fired from a third-party plugin.   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md714"></a>
Commands</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Command   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>vdlp:redirect:publish-redirects</code>   </td><td class="markdownTableBodyNone">Publish all redirects.   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
