<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jegyzetszerver: Omnipay for Laravel 5 &amp; Lumen</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Jegyzetszerver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Omnipay for Laravel 5 &amp; Lumen </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://packagist.org/packages/ignited/laravel-omnipay"><img src="https://img.shields.io/packagist/dt/ignited/laravel-omnipay.svg" alt="Total Downloads" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/ignited/laravel-omnipay/releases"><img src="http://img.shields.io/packagist/v/ignited/laravel-omnipay.svg" alt="Latest Version" style="pointer-events: none;" class="inline"/></a> <a href="https://www.versioneye.com/php/ignited:laravel-omnipay"><img src="https://www.versioneye.com/php/ignited:laravel-omnipay/badge.svg" alt="Dependency Status" style="pointer-events: none;" class="inline"/></a></p>
<p>Integrates the <a href="https://github.com/adrianmacneil/omnipay">Omnipay</a> PHP library with Laravel 5 via a ServiceProvider to make Configuring multiple payment tunnels a breeze!</p>
<h2><a class="anchor" id="autotoc_md122"></a>
Laravel 4 Support</h2>
<p>For Laravel 4 see the <a href="https://github.com/ignited/laravel-omnipay/tree/1.1.0">version 1.x</a> tree</p>
<h2><a class="anchor" id="autotoc_md123"></a>
Now using Omnipay 2.3/2.5</h2>
<p>Version <code>2.0</code> and onwards has been updated to use Omnipay 2.3.</p>
<p>Version <code>2.2</code> and onwards is using Omnipay 2.5</p>
<h2><a class="anchor" id="autotoc_md124"></a>
Composer Configuration</h2>
<p>Include the laravel-omnipay package as a dependency in your <code>composer.json</code>: </p><pre class="fragment">"ignited/laravel-omnipay": "2.*"
</pre><p> <b>Note:</b> You don't need to include the <code>omnipay/common</code> in your composer.json - it is a requirement of the <code>laravel-omnipay</code> package.</p>
<p>Omnipay recently went refactoring that made it so that each package is now a seperate repository. The <code>omnipay/common</code> package includes the core framework. You will then need to include each gateway as you require. For example: </p><pre class="fragment">"omnipay/eway": "*"
</pre><p> Alternatively you can include every gateway by requring: </p><pre class="fragment">"omnipay/omnipay": "*"
</pre><p> <b>Note:</b> this requires a large amount of composer work as it needs to fetch each seperate repository. This is not recommended.</p>
<h2><a class="anchor" id="autotoc_md125"></a>
Installation</h2>
<p>Run <code>composer install</code> to download the dependencies.</p>
<h3><a class="anchor" id="autotoc_md126"></a>
Laravel 5</h3>
<p>Add a ServiceProvider to your providers array in <code>config/app.php</code>:</p>
<div class="fragment"><div class="line"><span class="stringliteral">&#39;providers&#39;</span> =&gt; [</div>
<div class="line"> </div>
<div class="line">    <span class="stringliteral">&#39;Ignited\LaravelOmnipay\LaravelOmnipayServiceProvider&#39;</span>,</div>
<div class="line"> </div>
<div class="line">]</div>
</div><!-- fragment --><p>Add the <code>Omnipay</code> facade to your facades array:</p>
<div class="fragment"><div class="line"><span class="stringliteral">&#39;Omnipay&#39;</span> =&gt; <span class="stringliteral">&#39;Ignited\LaravelOmnipay\Facades\OmnipayFacade&#39;</span>,</div>
</div><!-- fragment --><p>Finally, publish the configuration files via <code>php artisan vendor:publish</code>.</p>
<h3><a class="anchor" id="autotoc_md127"></a>
Lumen</h3>
<p>For <code>Lumen</code> add the following in your bootstrap/app.php </p><div class="fragment"><div class="line">$app-&gt;register(Ignited\LaravelOmnipay\LumenOmnipayServiceProvider::class);</div>
</div><!-- fragment --><p>Copy the laravel-omnipay.php file from the config directory to config/laravel-omnipay.php</p>
<p>And also add the following to bootstrap/app.php </p><div class="fragment"><div class="line">$app-&gt;configure(<span class="stringliteral">&#39;laravel-omnipay&#39;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md128"></a>
Configuration</h2>
<p>Once you have published the configuration files, you can add your gateway options to the config file in <code>config/laravel-omnipay.php</code>.</p>
<h2><a class="anchor" id="autotoc_md129"></a>
Usage</h2>
<div class="fragment"><div class="line">$cardInput = [</div>
<div class="line">    <span class="stringliteral">&#39;number&#39;</span>      =&gt; <span class="stringliteral">&#39;4444333322221111&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;firstName&#39;</span>   =&gt; <span class="stringliteral">&#39;MR. WALTER WHITE&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;expiryMonth&#39;</span> =&gt; <span class="stringliteral">&#39;03&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;expiryYear&#39;</span>  =&gt; <span class="stringliteral">&#39;16&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;cvv&#39;</span>         =&gt; <span class="stringliteral">&#39;333&#39;</span>,</div>
<div class="line">];</div>
<div class="line"> </div>
<div class="line">$card = Omnipay::creditCard($cardInput);</div>
<div class="line">$response = Omnipay::purchase([</div>
<div class="line">    <span class="stringliteral">&#39;amount&#39;</span>    =&gt; <span class="stringliteral">&#39;100.00&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;returnUrl&#39;</span> =&gt; <span class="stringliteral">&#39;http://bobjones.com/payment/return&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;cancelUrl&#39;</span> =&gt; <span class="stringliteral">&#39;http://bobjones.com/payment/cancel&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;card&#39;</span>      =&gt; $cardInput</div>
<div class="line">])-&gt;send();</div>
<div class="line"> </div>
<div class="line">dd($response-&gt;getMessage());</div>
</div><!-- fragment --><p>This will use the gateway specified in the config as <code>default</code>.</p>
<p>However, you can also specify a gateway to use.</p>
<div class="fragment"><div class="line">Omnipay::setGateway(<span class="stringliteral">&#39;eway&#39;</span>);</div>
<div class="line"> </div>
<div class="line">$response = Omnipay::purchase([</div>
<div class="line">    <span class="stringliteral">&#39;amount&#39;</span> =&gt; <span class="stringliteral">&#39;100.00&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;card&#39;</span>   =&gt; $cardInput</div>
<div class="line">])-&gt;send();</div>
<div class="line"> </div>
<div class="line">dd($response-&gt;getMessage());</div>
</div><!-- fragment --><p>In addition you can take an instance of the gateway.</p>
<div class="fragment"><div class="line">$gateway = Omnipay::gateway(<span class="stringliteral">&#39;eway&#39;</span>);</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
