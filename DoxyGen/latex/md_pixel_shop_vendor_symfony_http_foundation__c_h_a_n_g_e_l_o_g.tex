\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md305}{}\doxysection{3.\+4.\+14}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md305}

\begin{DoxyItemize}
\item \mbox{[}BC BREAK\mbox{]} Support for the IIS-\/only {\ttfamily X\+\_\+\+ORIGINAL\+\_\+\+URL} and {\ttfamily X\+\_\+\+REWRITE\+\_\+\+URL} HTTP headers has been dropped for security reasons.
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md306}{}\doxysection{3.\+4.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md306}

\begin{DoxyItemize}
\item implemented PHP 7.\+0\textquotesingle{}s {\ttfamily Session\+Update\+Timestamp\+Handler\+Interface} with a new {\ttfamily Abstract\+Session\+Handler} base class and a new {\ttfamily Strict\+Session\+Handler} wrapper
\item deprecated the {\ttfamily Write\+Check\+Session\+Handler}, {\ttfamily Native\+Session\+Handler} and {\ttfamily Native\+Proxy} classes
\item deprecated setting session save handlers that do not implement {\ttfamily \textbackslash{}Session\+Handler\+Interface} in {\ttfamily Native\+Session\+Storage\+::set\+Save\+Handler()}
\item deprecated using {\ttfamily Mongo\+Db\+Session\+Handler} with the legacy mongo extension; use it with the mongodb/mongodb package and ext-\/mongodb instead
\item deprecated {\ttfamily Memcache\+Session\+Handler}; use {\ttfamily Memcached\+Session\+Handler} instead
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md307}{}\doxysection{3.\+3.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md307}

\begin{DoxyItemize}
\item the {\ttfamily Request\+::set\+Trusted\+Proxies()} method takes a new {\ttfamily \$trusted\+Header\+Set} argument, see \href{https://symfony.com/doc/current/deployment/proxies.html}{\texttt{ https\+://symfony.\+com/doc/current/deployment/proxies.\+html}} for more info,
\item deprecated the {\ttfamily Request\+::set\+Trusted\+Header\+Name()} and {\ttfamily Request\+::get\+Trusted\+Header\+Name()} methods,
\item added {\ttfamily File\textbackslash{}Stream}, to be passed to {\ttfamily Binary\+File\+Response} when the size of the served file is unknown, disabling {\ttfamily Range} and {\ttfamily Content-\/\+Length} handling, switching to chunked encoding instead
\item added the {\ttfamily Cookie\+::from\+String()} method that allows to create a cookie from a raw header string
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md308}{}\doxysection{3.\+1.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md308}

\begin{DoxyItemize}
\item Added support for creating {\ttfamily Json\+Response} with a string of JSON data
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md309}{}\doxysection{3.\+0.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md309}

\begin{DoxyItemize}
\item The precedence of parameters returned from {\ttfamily \mbox{\hyperlink{_service_locator_trait_8php_a1daf468da92d39bf50b3cf737cf8f32b}{Request\+::get()}}} changed from \char`\"{}\+GET, PATH, BODY\char`\"{} to \char`\"{}\+PATH, GET, BODY\char`\"{}
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md310}{}\doxysection{2.\+8.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md310}

\begin{DoxyItemize}
\item Finding deep items in {\ttfamily \mbox{\hyperlink{_service_locator_trait_8php_a1daf468da92d39bf50b3cf737cf8f32b}{Parameter\+Bag\+::get()}}} is deprecated since version 2.\+8 and will be removed in 3.\+0.
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md311}{}\doxysection{2.\+6.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md311}

\begin{DoxyItemize}
\item Pdo\+Session\+Handler changes
\begin{DoxyItemize}
\item implemented different session locking strategies to prevent loss of data by concurrent access to the same session
\item \mbox{[}BC BREAK\mbox{]} save session data in a binary column without base64\+\_\+encode
\item \mbox{[}BC BREAK\mbox{]} added lifetime column to the session table which allows to have different lifetimes for each session
\item implemented lazy connections that are only opened when a session is used by either passing a dsn string explicitly or falling back to session.\+save\+\_\+path ini setting
\item added a create\+Table method that initializes a correctly defined table depending on the database vendor
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md312}{}\doxysection{2.\+5.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md312}

\begin{DoxyItemize}
\item added {\ttfamily Json\+Response\+::set\+Encoding\+Options()} \& {\ttfamily Json\+Response\+::get\+Encoding\+Options()} for easier manipulation of the options used while encoding data to JSON format.
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md313}{}\doxysection{2.\+4.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md313}

\begin{DoxyItemize}
\item added Request\+Stack
\item added Request\+::get\+Encodings()
\item added accessors methods to session handlers
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md314}{}\doxysection{2.\+3.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md314}

\begin{DoxyItemize}
\item added support for ranges of IPs in trusted proxies
\item {\ttfamily Uploaded\+File\+::is\+Valid} now returns false if the file was not uploaded via HTTP (in a non-\/test mode)
\item Improved error-\/handling of {\ttfamily \textbackslash{}Symfony\textbackslash{}Component\textbackslash{}Http\+Foundation\textbackslash{}Session\textbackslash{}Storage\textbackslash{}Handler\textbackslash{}Pdo\+Session\+Handler} to ensure the supplied PDO handler throws Exceptions on error (as the class expects). Added related test cases to verify that Exceptions are properly thrown when the PDO queries fail.
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md315}{}\doxysection{2.\+2.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md315}

\begin{DoxyItemize}
\item fixed the Request\+::create() precedence (URI information always take precedence now)
\item added Request\+::get\+Trusted\+Proxies()
\item deprecated Request\+::is\+Proxy\+Trusted()
\item \mbox{[}BC BREAK\mbox{]} Json\+Response does not turn a top level empty array to an object anymore, use an Array\+Object to enforce objects
\item added a Ip\+Utils class to check if an IP belongs to a CIDR
\item added Request\+::get\+Real\+Method() to get the \char`\"{}real\char`\"{} HTTP method (get\+Method() returns the \char`\"{}intended\char`\"{} HTTP method)
\item disabled \+\_\+method request parameter support by default (call Request\+::enable\+Http\+Method\+Parameter\+Override() to enable it, and Request\+::get\+Http\+Method\+Parameter\+Override() to check if it is supported)
\item Request\+::split\+Http\+Accept\+Header() method is deprecated and will be removed in 2.\+3
\item Deprecated Flashbag\+::count() and \textbackslash{}\+Countable interface, will be removed in 2.\+3
\end{DoxyItemize}\hypertarget{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md316}{}\doxysection{2.\+1.\+0}\label{md_pixel_shop_vendor_symfony_http_foundation__c_h_a_n_g_e_l_o_g_autotoc_md316}

\begin{DoxyItemize}
\item added Request\+::get\+Scheme\+And\+Http\+Host() and Request\+::get\+User\+Info()
\item added a fluent interface to the Response class
\item added Request\+::is\+Proxy\+Trusted()
\item added Json\+Response
\item added a get\+Target\+Url method to Redirect\+Response
\item added support for streamed responses
\item made Response\+::prepare() method the place to enforce HTTP specification
\item \mbox{[}BC BREAK\mbox{]} moved management of the locale from the Session class to the Request class
\item added a generic access to the PHP built-\/in filter mechanism\+: Parameter\+Bag\+::filter()
\item made File\+Binary\+Mime\+Type\+Guesser command configurable
\item added Request\+::get\+User() and Request\+::get\+Password()
\item added support for the PATCH method in Request
\item removed the Content\+Type\+Mime\+Type\+Guesser class as it is deprecated and never used on PHP 5.\+3
\item added Response\+Header\+Bag\+::make\+Disposition() (implements RFC 6266)
\item made mimetype to extension conversion configurable
\item \mbox{[}BC BREAK\mbox{]} Moved all session related classes and interfaces into own namespace, as {\ttfamily Symfony\textbackslash{}Component\textbackslash{}Http\+Foundation\textbackslash{}Session} and renamed classes accordingly. Session handlers are located in the subnamespace {\ttfamily Symfony\textbackslash{}Component\textbackslash{}Http\+Foundation\textbackslash{}Session\textbackslash{}Handler}.
\item Session\+Handlers must implement {\ttfamily \textbackslash{}Session\+Handler\+Interface} or extend from the {\ttfamily Symfony\textbackslash{}Component\textbackslash{}Http\+Foundation\textbackslash{}Storage\textbackslash{}Handler\textbackslash{}Native\+Session\+Handler} base class.
\item Added internal storage driver proxy mechanism for forward compatibility with PHP 5.\+4 {\ttfamily \textbackslash{}Session\+Handler} class.
\item Added session handlers for custom Memcache, Memcached and Null session save handlers.
\item \mbox{[}BC BREAK\mbox{]} Removed {\ttfamily Native\+Session\+Storage} and replaced with {\ttfamily Native\+File\+Session\+Handler}.
\item \mbox{[}BC BREAK\mbox{]} {\ttfamily Session\+Storage\+Interface} methods removed\+: {\ttfamily write()}, {\ttfamily read()} and {\ttfamily remove()}. Added {\ttfamily get\+Bag()}, {\ttfamily register\+Bag()}. The {\ttfamily Native\+Session\+Storage} class is a mediator for the session storage internals including the session handlers which do the real work of participating in the internal PHP session workflow.
\item \mbox{[}BC BREAK\mbox{]} Introduced mock implementations of {\ttfamily Session\+Storage} to enable unit and functional testing without starting real PHP sessions. Removed {\ttfamily Array\+Session\+Storage}, and replaced with {\ttfamily Mock\+Array\+Session\+Storage} for unit tests; removed {\ttfamily Filesystem\+Session\+Storage}, and replaced with{\ttfamily Mock\+File\+Session\+Storage} for functional tests. These do not interact with global session ini configuration values, session functions or {\ttfamily \$\+\_\+\+SESSION} superglobal. This means they can be configured directly allowing multiple instances to work without conflicting in the same PHP process.
\item \mbox{[}BC BREAK\mbox{]} Removed the {\ttfamily close()} method from the {\ttfamily Session} class, as this is now redundant.
\item Deprecated the following methods from the Session class\+: {\ttfamily set\+Flash()}, {\ttfamily set\+Flashes()} {\ttfamily get\+Flash()}, {\ttfamily has\+Flash()}, and {\ttfamily remove\+Flash()}. Use {\ttfamily get\+Flash\+Bag()} instead which returns a {\ttfamily Flash\+Bag\+Interface}.
\item {\ttfamily Session-\/$>$clear()} now only clears session attributes as before it cleared flash messages and attributes. {\ttfamily Session-\/$>$get\+Flash\+Bag()-\/$>$all()} clears flashes now.
\item Session data is now managed by {\ttfamily Session\+Bag\+Interface} to better encapsulate session data.
\item Refactored session attribute and flash messages system to their own {\ttfamily Session\+Bag\+Interface} implementations.
\item Added {\ttfamily Flash\+Bag}. Flashes expire when retrieved by {\ttfamily \mbox{\hyperlink{_service_locator_trait_8php_a1daf468da92d39bf50b3cf737cf8f32b}{get()}}} or {\ttfamily all()}. This implementation is ESI compatible.
\item Added {\ttfamily Auto\+Expire\+Flash\+Bag} (default) to replicate Symfony 2.\+0.\+x auto expire behavior of messages auto expiring after one page page load. Messages must be retrieved by {\ttfamily \mbox{\hyperlink{_service_locator_trait_8php_a1daf468da92d39bf50b3cf737cf8f32b}{get()}}} or {\ttfamily all()}.
\item Added {\ttfamily Symfony\textbackslash{}Component\textbackslash{}Http\+Foundation\textbackslash{}Attribute\textbackslash{}Attribute\+Bag} to replicate attributes storage behavior from 2.\+0.\+x (default).
\item Added {\ttfamily Symfony\textbackslash{}Component\textbackslash{}Http\+Foundation\textbackslash{}Attribute\textbackslash{}Namespaced\+Attribute\+Bag} for namespace session attributes.
\item Flash API can stores messages in an array so there may be multiple messages per flash type. The old {\ttfamily Session} class API remains without BC break as it will allow single messages as before.
\item Added basic session meta-\/data to the session to record session create time, last updated time, and the lifetime of the session cookie that was provided to the client.
\item Request\+::get\+Client\+Ip() method doesn\textquotesingle{}t take a parameter anymore but bases itself on the trust\+Proxy parameter.
\item Added is\+Method() to Request object.
\item \mbox{[}BC BREAK\mbox{]} The methods {\ttfamily get\+Path\+Info()}, {\ttfamily get\+Base\+Url()} and {\ttfamily get\+Base\+Path()} of a {\ttfamily Request} now all return a raw value (vs a urldecoded value before). Any call to one of these methods must be checked and wrapped in a {\ttfamily rawurldecode()} if needed. 
\end{DoxyItemize}