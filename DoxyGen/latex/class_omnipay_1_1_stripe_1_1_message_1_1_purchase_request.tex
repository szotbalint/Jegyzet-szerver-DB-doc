\hypertarget{class_omnipay_1_1_stripe_1_1_message_1_1_purchase_request}{}\doxysection{Purchase\+Request Class Reference}
\label{class_omnipay_1_1_stripe_1_1_message_1_1_purchase_request}\index{PurchaseRequest@{PurchaseRequest}}
Inheritance diagram for Purchase\+Request\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=6.000000cm]{class_omnipay_1_1_stripe_1_1_message_1_1_purchase_request}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_omnipay_1_1_stripe_1_1_message_1_1_purchase_request_a81a67162a6288d78fc4c55283325f0b4}{get\+Data}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{namespace_omnipay_1_1_stripe}{Stripe}} Purchase Request.

To charge a credit card, you create a new charge object. If your API key is in test mode, the supplied card won\textquotesingle{}t actually be charged, though everything else will occur as if in live mode. (\mbox{\hyperlink{namespace_omnipay_1_1_stripe}{Stripe}} assumes that the charge would have completed successfully).

Example\+:

{\ttfamily  // Create a gateway for the \mbox{\hyperlink{namespace_omnipay_1_1_stripe}{Stripe}} \mbox{\hyperlink{class_omnipay_1_1_stripe_1_1_gateway}{Gateway}} // (routes to \mbox{\hyperlink{class_omnipay_1_1_common_1_1_gateway_factory_add7982ae8c25f1e10b44271426feac99}{Gateway\+Factory\+::create}}) \$gateway = Omnipay\+::create(\textquotesingle{}\mbox{\hyperlink{namespace_omnipay_1_1_stripe}{Stripe}}\textquotesingle{});}

{\ttfamily  // Initialise the gateway \$gateway-\/$>$initialize(array( \textquotesingle{}api\+Key\textquotesingle{} =$>$ \textquotesingle{}My\+Api\+Key\textquotesingle{}, ));}

{\ttfamily  // Create a credit card object // This card can be used for testing. \$card = new Credit\+Card(array( \textquotesingle{}first\+Name\textquotesingle{} =$>$ \textquotesingle{}Example\textquotesingle{}, \textquotesingle{}last\+Name\textquotesingle{} =$>$ \textquotesingle{}Customer\textquotesingle{}, \textquotesingle{}number\textquotesingle{} =$>$ \textquotesingle{}4242424242424242\textquotesingle{}, \textquotesingle{}expiry\+Month\textquotesingle{} =$>$ \textquotesingle{}01\textquotesingle{}, \textquotesingle{}expiry\+Year\textquotesingle{} =$>$ \textquotesingle{}2020\textquotesingle{}, \textquotesingle{}cvv\textquotesingle{} =$>$ \textquotesingle{}123\textquotesingle{}, \textquotesingle{}email\textquotesingle{} =$>$ \textquotesingle{}\href{mailto:customer@example.com}{\texttt{ customer@example.\+com}}\textquotesingle{}, \textquotesingle{}billing\+Address1\textquotesingle{} =$>$ \textquotesingle{}1 Scrubby Creek Road\textquotesingle{}, \textquotesingle{}billing\+Country\textquotesingle{} =$>$ \textquotesingle{}AU\textquotesingle{}, \textquotesingle{}billing\+City\textquotesingle{} =$>$ \textquotesingle{}Scrubby Creek\textquotesingle{}, \textquotesingle{}billing\+Postcode\textquotesingle{} =$>$ \textquotesingle{}4999\textquotesingle{}, \textquotesingle{}billing\+State\textquotesingle{} =$>$ \textquotesingle{}QLD\textquotesingle{}, ));}

{\ttfamily  // Do a purchase transaction on the gateway \$transaction = \$gateway-\/$>$purchase(array( \textquotesingle{}amount\textquotesingle{} =$>$ \textquotesingle{}10.\+00\textquotesingle{}, \textquotesingle{}currency\textquotesingle{} =$>$ \textquotesingle{}USD\textquotesingle{}, \textquotesingle{}description\textquotesingle{} =$>$ \textquotesingle{}This is a test purchase transaction.\textquotesingle{}, \textquotesingle{}card\textquotesingle{} =$>$ \$card, )); \$response = \$transaction-\/$>$\mbox{\hyperlink{class_omnipay_1_1_common_1_1_message_1_1_abstract_request_a12bcef5130168b80d3d52dc82213f19a}{send()}}; if (\$response-\/$>$is\+Successful()) \{ echo \char`\"{}\+Purchase transaction was successful!\textbackslash{}n\char`\"{}; \$sale\+\_\+id = \$response-\/$>$\mbox{\hyperlink{class_omnipay_1_1_common_1_1_message_1_1_abstract_request_a514421414d937d0a743fe4319458b402}{get\+Transaction\+Reference()}}; echo \char`\"{}\+Transaction reference = \char`\"{} . \$sale\+\_\+id . \char`\"{}\textbackslash{}n\char`\"{}; \} }

Because a purchase request in \mbox{\hyperlink{namespace_omnipay_1_1_stripe}{Stripe}} looks similar to an Authorize request, this class simply extends the \mbox{\hyperlink{class_omnipay_1_1_stripe_1_1_message_1_1_authorize_request}{Authorize\+Request}} class and over-\/rides the get\+Data method setting capture = true.

\begin{DoxySeeAlso}{See also}
\textbackslash{}\+Omnipay\textbackslash{}\+Stripe\textbackslash{}\+Gateway \mbox{\hyperlink{}{https\+://stripe.\+com/docs/api\#charges}}
\end{DoxySeeAlso}


Definition at line 67 of file Purchase\+Request.\+php.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_omnipay_1_1_stripe_1_1_message_1_1_purchase_request_a81a67162a6288d78fc4c55283325f0b4}\label{class_omnipay_1_1_stripe_1_1_message_1_1_purchase_request_a81a67162a6288d78fc4c55283325f0b4}} 
\index{PurchaseRequest@{PurchaseRequest}!getData@{getData}}
\index{getData@{getData}!PurchaseRequest@{PurchaseRequest}}
\doxysubsubsection{\texorpdfstring{getData()}{getData()}}
{\footnotesize\ttfamily get\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get the raw data array for this message. The format of this varies from gateway to gateway, but will usually be either an associative array, or a Simple\+XMLElement.

\begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{class_omnipay_1_1_stripe_1_1_message_1_1_authorize_request_a81a67162a6288d78fc4c55283325f0b4}{Authorize\+Request}}.



Definition at line 69 of file Purchase\+Request.\+php.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pixel/shop/vendor/omnipay/stripe/src/\+Message/\mbox{\hyperlink{_purchase_request_8php}{Purchase\+Request.\+php}}\end{DoxyCompactItemize}
