\href{https://travis-ci.org/stripe/stripe-php}{\texttt{ }} \href{https://packagist.org/packages/stripe/stripe-php}{\texttt{ }} \href{https://packagist.org/packages/stripe/stripe-php}{\texttt{ }} \href{https://packagist.org/packages/stripe/stripe-php}{\texttt{ }} \href{https://coveralls.io/r/stripe/stripe-php?branch=master}{\texttt{ }}

You can sign up for a \mbox{\hyperlink{namespace_stripe}{Stripe}} account at \href{https://stripe.com}{\texttt{ https\+://stripe.\+com}}.\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md291}{}\doxysection{Requirements}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md291}
PHP 5.\+3.\+3 and later.\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md292}{}\doxysection{Composer}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md292}
You can install the bindings via \href{http://getcomposer.org/}{\texttt{ Composer}}. Run the following command\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{composer require stripe/stripe-\/php}

\end{DoxyCode}


To use the bindings, use Composer\textquotesingle{}s \href{https://getcomposer.org/doc/00-intro.md\#autoloading}{\texttt{ autoload}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{require\_once(\textcolor{stringliteral}{'vendor/autoload.php'});}

\end{DoxyCode}
\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md293}{}\doxysection{Manual Installation}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md293}
If you do not wish to use Composer, you can download the \href{https://github.com/stripe/stripe-php/releases}{\texttt{ latest release}}. Then, to use the bindings, include the {\ttfamily \mbox{\hyperlink{init_8php}{init.\+php}}} file.


\begin{DoxyCode}{0}
\DoxyCodeLine{require\_once(\textcolor{stringliteral}{'/path/to/stripe-\/php/init.php'});}

\end{DoxyCode}
\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md294}{}\doxysection{Dependencies}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md294}
The bindings require the following extension in order to work properly\+:


\begin{DoxyItemize}
\item \href{https://secure.php.net/manual/en/book.curl.php}{\texttt{ {\ttfamily curl}}}, although you can use your own non-\/c\+URL client if you prefer
\item \href{https://secure.php.net/manual/en/book.json.php}{\texttt{ {\ttfamily json}}}
\item \href{https://secure.php.net/manual/en/book.mbstring.php}{\texttt{ {\ttfamily mbstring}}} (Multibyte String)
\end{DoxyItemize}

If you use Composer, these dependencies should be handled automatically. If you install manually, you\textquotesingle{}ll want to make sure that these extensions are available.\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md295}{}\doxysection{Getting Started}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md295}
Simple usage looks like\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{class_stripe_1_1_stripe_aca5c75bd39c3f255247e13532ffaa1d2}{\(\backslash\)Stripe\(\backslash\)Stripe::setApiKey}}(\textcolor{stringliteral}{'d8e8fca2dc0f896fd7cb4cb0031ba249'});}
\DoxyCodeLine{\$myCard = array(\textcolor{stringliteral}{'number'} => \textcolor{stringliteral}{'4242424242424242'}, \textcolor{stringliteral}{'exp\_month'} => 8, \textcolor{stringliteral}{'exp\_year'} => 2018);}
\DoxyCodeLine{\$charge = \mbox{\hyperlink{class_stripe_1_1_charge_a1a3b119495f0471b3d00dacccacfc1d6}{\(\backslash\)Stripe\(\backslash\)Charge::create}}(array(\textcolor{stringliteral}{'card'} => \$myCard, \textcolor{stringliteral}{'amount'} => 2000, \textcolor{stringliteral}{'currency'} => \textcolor{stringliteral}{'usd'}));}
\DoxyCodeLine{echo \$charge;}

\end{DoxyCode}
\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md296}{}\doxysection{Documentation}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md296}
Please see \href{https://stripe.com/docs/api}{\texttt{ https\+://stripe.\+com/docs/api}} for up-\/to-\/date documentation.\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md297}{}\doxysection{Legacy Version Support}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md297}
If you are using PHP 5.\+2, you can download v1.\+18.\+0 (\href{https://github.com/stripe/stripe-php/archive/v1.18.0.zip}{\texttt{ zip}}, \href{https://github.com/stripe/stripe-php/archive/v1.18.0.tar.gz}{\texttt{ tar.\+gz}}) from our \href{https://github.com/stripe/stripe-php/releases}{\texttt{ releases page}}. This version will continue to work with new versions of the \mbox{\hyperlink{namespace_stripe}{Stripe}} API for all common uses.

This legacy version may be included via {\ttfamily require\+\_\+once(\char`\"{}/path/to/stripe-\/php/lib/\+Stripe.\+php\char`\"{});}, and used like\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Stripe::setApiKey(\textcolor{stringliteral}{'d8e8fca2dc0f896fd7cb4cb0031ba249'});}
\DoxyCodeLine{\$myCard = array(\textcolor{stringliteral}{'number'} => \textcolor{stringliteral}{'4242424242424242'}, \textcolor{stringliteral}{'exp\_month'} => 8, \textcolor{stringliteral}{'exp\_year'} => 2018);}
\DoxyCodeLine{\$charge = Stripe\_Charge::create(array(\textcolor{stringliteral}{'card'} => \$myCard, \textcolor{stringliteral}{'amount'} => 2000, \textcolor{stringliteral}{'currency'} => \textcolor{stringliteral}{'usd'}));}
\DoxyCodeLine{echo \$charge;}

\end{DoxyCode}
\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md298}{}\doxysection{Custom Request Timeouts}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md298}
{\itshape NOTE\+:} We do not recommend decreasing the timeout for non-\/read-\/only calls (e.\+g. charge creation), since even if you locally timeout, the request on \mbox{\hyperlink{namespace_stripe}{Stripe}}\textquotesingle{}s side can still complete. If you are decreasing timeouts on these calls, make sure to use \href{https://stripe.com/docs/api/php\#idempotent_requests}{\texttt{ idempotency tokens}} to avoid executing the same transaction twice as a result of timeout retry logic.

To modify request timeouts (connect or total, in seconds) you\textquotesingle{}ll need to tell the API client to use a Curl\+Client other than its default. You\textquotesingle{}ll set the timeouts in that Curl\+Client.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// set up your tweaked Curl client}}
\DoxyCodeLine{\$curl = new \(\backslash\)Stripe\(\backslash\)HttpClient\(\backslash\)CurlClient();}
\DoxyCodeLine{\$curl-\/>setTimeout(10); \textcolor{comment}{// default is \(\backslash\)Stripe\(\backslash\)HttpClient\(\backslash\)CurlClient::DEFAULT\_TIMEOUT}}
\DoxyCodeLine{\$curl-\/>setConnectTimeout(5); \textcolor{comment}{// default is \(\backslash\)Stripe\(\backslash\)HttpClient\(\backslash\)CurlClient::DEFAULT\_CONNECT\_TIMEOUT}}
\DoxyCodeLine{}
\DoxyCodeLine{echo \$curl-\/>getTimeout(); \textcolor{comment}{// 10}}
\DoxyCodeLine{echo \$curl-\/>getConnectTimeout(); \textcolor{comment}{// 5}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// tell Stripe to use the tweaked client}}
\DoxyCodeLine{\mbox{\hyperlink{class_stripe_1_1_api_requestor_ac7f9fb6191aea3217cdd4063616d67b2}{\(\backslash\)Stripe\(\backslash\)ApiRequestor::setHttpClient}}(\$curl);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// use the Stripe API client as you normally would}}

\end{DoxyCode}
\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md299}{}\doxysection{Custom c\+URL Options (e.\+g. proxies)}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md299}
Need to set a proxy for your requests? Pass in the requisite {\ttfamily CURLOPT\+\_\+$\ast$} array to the Curl\+Client constructor, using the same syntax as {\ttfamily curl\+\_\+stopt\+\_\+array()}. This will set the default c\+URL options for each HTTP request made by the SDK, though many more common options (e.\+g. timeouts; see above on how to set those) will be overridden by the client even if set here.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// set up your tweaked Curl client}}
\DoxyCodeLine{\$curl = new \(\backslash\)Stripe\(\backslash\)HttpClient\(\backslash\)CurlClient(array(CURLOPT\_PROXY => \textcolor{stringliteral}{'proxy.local:80'}));}
\DoxyCodeLine{\textcolor{comment}{// tell Stripe to use the tweaked client}}
\DoxyCodeLine{\mbox{\hyperlink{class_stripe_1_1_api_requestor_ac7f9fb6191aea3217cdd4063616d67b2}{\(\backslash\)Stripe\(\backslash\)ApiRequestor::setHttpClient}}(\$curl);}

\end{DoxyCode}


Alternately, a callable can be passed to the Curl\+Client constructor that returns the above array based on request inputs. See {\ttfamily test\+Default\+Options()} in {\ttfamily \mbox{\hyperlink{_curl_client_test_8php}{tests/\+Curl\+Client\+Test.\+php}}} for an example of this behavior. Note that the callable is called at the beginning of every API request, before the request is sent.\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md300}{}\doxysection{Development}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md300}
Install dependencies\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{composer install}

\end{DoxyCode}
\hypertarget{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md301}{}\doxysection{Tests}\label{md_pixel_shop_vendor_stripe_stripe_php__r_e_a_d_m_e_autotoc_md301}
Install dependencies as mentioned above (which will resolve \href{http://packagist.org/packages/phpunit/phpunit}{\texttt{ PHPUnit}}), then you can run the test suite\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{./vendor/bin/phpunit}

\end{DoxyCode}


Or to run an individual test file\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{./vendor/bin/phpunit tests/UtilTest.php}

\end{DoxyCode}
 