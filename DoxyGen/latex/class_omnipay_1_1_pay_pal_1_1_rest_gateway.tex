\hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway}{}\doxysection{Rest\+Gateway Class Reference}
\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway}\index{RestGateway@{RestGateway}}
Inheritance diagram for Rest\+Gateway\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_omnipay_1_1_pay_pal_1_1_rest_gateway}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a3d0963e68bb313b163a73f2803c64600}{get\+Name}} ()
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_afc7285c6639730467eb4a71daae1c985}{get\+Default\+Parameters}} ()
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ab52cbc793451bb2cfc64de9448558a71}{get\+Client\+Id}} ()
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a920912a61d7f77e1bb4d4611d7d0657c}{set\+Client\+Id}} (\$value)
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ad00fcd750cd4307f2a9fd82b7f6807b5}{get\+Secret}} ()
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a969c02f0adb4836f3ac334b9a5ccda0d}{set\+Secret}} (\$value)
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a8b4c22195ce91caea8b1d03bbab3bfc0}{get\+Token}} (\$create\+If\+Needed=true)
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aa1aef44862d658669a3cd82487f7f018}{create\+Token}} ()
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a0bddfccdd66c48554c51585cfdd768e5}{set\+Token}} (\$value)
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a424ae34ad4109e77d71c40ec05430613}{get\+Token\+Expires}} ()
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a16d8451975cc613e6ce1b0651bb2b14c}{set\+Token\+Expires}} (\$value)
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a09c7c2b367d5e739295f45db34691f44}{has\+Token}} ()
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a67bbf543fe83f3fc2fb67c1b87b43956}{create\+Request}} (\$class, array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a9d5d3f2935096f7b1ec131299c1e8f13}{purchase}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a7cfe12bab586d66f6f0a1269bfa9ff1d}{fetch\+Purchase}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a6e8b358b274b76a106221ec5998b2301}{list\+Purchase}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a83eb7c8b8a5637f73426dc1386cece84}{complete\+Purchase}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a5974010488ddf2d80e365958f05300ab}{authorize}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a32b6c65cbbc617d7464ded7b16e05dd4}{void}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_afe75267613416bde4e63059760bfd66c}{capture}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ac1388e64ca43a7aa2438ecb56f22ebe4}{refund\+Capture}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a47e4691bb487eb318643775afd508a8c}{fetch\+Transaction}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a8f8e4128843bca609ee61221c4a347f0}{refund}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a3fd3f3cca9c261ea4766647add679f68}{create\+Card}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a21d05f4848534a1e57c3d722ec519811}{delete\+Card}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ac9804961c0e47f1e0faa08c2e1093f13}{create\+Plan}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a53a8ba4e4985225fe834ec582be34245}{update\+Plan}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aa081503efd5f93b68f6e99d38b8276b0}{list\+Plan}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ae3f4e2b4f6feea4b85c8803a0e852b2e}{create\+Subscription}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aa85fe2cc087150338f49cdd67317ad86}{complete\+Subscription}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a3462db82b7724066af0f642afa44674b}{cancel\+Subscription}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a7e705efa73d84f073e2046568c8605bc}{suspend\+Subscription}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a22acd65c32d9498ead10c5b9c6e3a636}{reactivate\+Subscription}} (array \$parameters=array())
\item 
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a2f1ed7e72e4be9e7ef2a1ac238ab3418}{search\+Transaction}} (array \$parameters=array())
\end{DoxyCompactItemize}
\doxysubsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a9ca3651b087ca2709b329c5e2cc0a42f}{BILLING\+\_\+\+PLAN\+\_\+\+TYPE\+\_\+\+FIXED}} = \textquotesingle{}FIXED\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_af98fee4f01df4c6b7e62c4583931914a}{BILLING\+\_\+\+PLAN\+\_\+\+TYPE\+\_\+\+INFINITE}} = \textquotesingle{}INFINITE\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ab233ec72de7ae4770341f690d7a75f2f}{BILLING\+\_\+\+PLAN\+\_\+\+FREQUENCY\+\_\+\+DAY}} = \textquotesingle{}DAY\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a1dc37d45cd397480b3691cf12be17cca}{BILLING\+\_\+\+PLAN\+\_\+\+FREQUENCY\+\_\+\+WEEK}} = \textquotesingle{}WEEK\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a88cb4cf0e1aeedf4089864847d501bfa}{BILLING\+\_\+\+PLAN\+\_\+\+FREQUENCY\+\_\+\+MONTH}} = \textquotesingle{}MONTH\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ac978937865214d8c58215d737d28c259}{BILLING\+\_\+\+PLAN\+\_\+\+FREQUENCY\+\_\+\+YEAR}} = \textquotesingle{}YEAR\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a9991c048d8d6abdc1eaa2a30ec3dc0a4}{BILLING\+\_\+\+PLAN\+\_\+\+STATE\+\_\+\+CREATED}} = \textquotesingle{}CREATED\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a7ae5f72ec29b976947cb6b8f7be13f7c}{BILLING\+\_\+\+PLAN\+\_\+\+STATE\+\_\+\+ACTIVE}} = \textquotesingle{}ACTIVE\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a02ef39eae7292d5373941c7fd66592df}{BILLING\+\_\+\+PLAN\+\_\+\+STATE\+\_\+\+INACTIVE}} = \textquotesingle{}INACTIVE\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aff7138301bb10acf4a286ba6ea54a553}{BILLING\+\_\+\+PLAN\+\_\+\+STATE\+\_\+\+DELETED}} = \textquotesingle{}DELETED\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a30a716358e90dbc0d0e85d6001da41af}{PAYMENT\+\_\+\+TRIAL}} = \textquotesingle{}TRIAL\textquotesingle{}
\item 
const \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ab1e1dd1f8a5e4ba8eb81b256334cf6a7}{PAYMENT\+\_\+\+REGULAR}} = \textquotesingle{}REGULAR\textquotesingle{}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} Pro Class using REST API

This class forms the gateway class for \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} REST requests via the \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} REST APIs.

The \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} API uses HTTP verbs and a RESTful endpoint structure. OAuth 2.\+0 is used as the API Authorization framework. Request and response payloads are formatted as JSON.

The \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} REST APIs are supported in two environments. Use the Sandbox environment for testing purposes, then move to the live environment for production processing. When testing, generate an access token with your test credentials to make calls to the Sandbox URIs. When you’re set to go live, use the live credentials assigned to your app to generate a new access token to be used with the live URIs.\hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md192}{}\doxyparagraph{Test Mode}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md192}
In order to use this for testing in sandbox mode you will need at least two sandbox test accounts. One will need to be a business account, and one will need to be a personal account with credit card details. To create these you will need to go to the sandbox accounts section of the \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} developer dashboard, here\+: \href{https://developer.paypal.com/webapps/developer/applications/accounts}{\texttt{ https\+://developer.\+paypal.\+com/webapps/developer/applications/accounts}} On that page click \char`\"{}\+Create Account\char`\"{} and follow the prompts. When you are creating the Personal account, ensure that it is created with a credit card -- either Visa or Master\+Card or one of the other types. When you are testing in the sandbox, use the credit card details you will receive for this Personal account rather than any other commonly used test credit card numbers (e.\+g. visa card 4111111111111111 or 4444333322221111 both of which will result in Error 500 / INTERNAL\+\_\+\+SERVICE\+\_\+\+ERROR type errors from the \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} gateway).

With each API call, you’ll need to set request headers, including an OAuth 2.\+0 access token. Get an access token by using the OAuth 2.\+0 client\+\_\+credentials token grant type with your client\+Id\+:secret as your Basic Auth credentials. For more information, see Make your first call (link). This class sets all of the headers associated with the API call for you, including making preliminary calls to create or update the OAuth 2.\+0 access token before each call you make, if required. All you need to do is provide the client\+Id and secret when you initialize the gateway, or use the set$\ast$() calls to set them after creating the gateway object.\hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md193}{}\doxyparagraph{Credentials}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md193}
To create production and sandbox credentials for your \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} account\+:


\begin{DoxyItemize}
\item Log into your \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} account.
\item Navigate to your Sandbox accounts at \href{https://developer.paypal.com/webapps/developer/applications/accounts}{\texttt{ https\+://developer.\+paypal.\+com/webapps/developer/applications/accounts}} to ensure that you have a valid sandbox account to use for testing. If you don\textquotesingle{}t already have a sandbox account, one can be created on this page. You will actually need 2 accounts, a personal account and a business account, the business account is the one you need to use for creating API applications.
\item Check your account status on \href{https://developer.paypal.com/webapps/developer/account/status}{\texttt{ https\+://developer.\+paypal.\+com/webapps/developer/account/status}} to ensure that it is valid for live transactions.
\item Navigate to the My REST apps page\+: \href{https://developer.paypal.com/webapps/developer/applications/myapps}{\texttt{ https\+://developer.\+paypal.\+com/webapps/developer/applications/myapps}}
\item Click {\itshape Create App}
\item On the next page, enter an App name and select the sandbox account to use, then click {\itshape Create app}.
\item On the next page the sandbox account, endpoint, Client ID and Secret should be displayed. Record these. The Sandbox account should match the one that you selected on the previous page, and the sandbox endpoint should be ai.\+sandbox.\+paypal.\+com
\item Adjacent to {\itshape Live credentials} click {\itshape Show} to display your live credentials. The endpoint for these should be api.\+paypal.\+com, there should also be a Client ID and Secret.
\end{DoxyItemize}

You can create additional REST APIs apps for other websites -- because the webhooks are stored per app then it pays to have one API app per website that you are using (and an additional one for things like command line testing, etc).\hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md194}{}\doxyparagraph{Example}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md194}
\hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md195}{}\doxysubparagraph{Initialize Gateway}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md195}
{\ttfamily  // Create a gateway for the \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} \mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway}{Rest\+Gateway}} // (routes to \mbox{\hyperlink{class_omnipay_1_1_common_1_1_gateway_factory_add7982ae8c25f1e10b44271426feac99}{Gateway\+Factory\+::create}}) \$gateway = Omnipay\+::create(\textquotesingle{}Pay\+Pal\+\_\+\+Rest\textquotesingle{});}

{\ttfamily  // Initialise the gateway \$gateway-\/$>$initialize(array( \textquotesingle{}client\+Id\textquotesingle{} =$>$ \textquotesingle{}My\+Pay\+Pal\+Client\+Id\textquotesingle{}, \textquotesingle{}secret\textquotesingle{} =$>$ \textquotesingle{}My\+Pay\+Pal\+Secret\textquotesingle{}, \textquotesingle{}test\+Mode\textquotesingle{} =$>$ true, // Or false when you are ready for live transactions )); }\hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md196}{}\doxysubparagraph{Direct Credit Card Payment}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md196}
{\ttfamily  // Create a credit card object // DO NOT USE THESE CARD VALUES -- substitute your own // see the documentation in the class header. \$card = new Credit\+Card(array( \textquotesingle{}first\+Name\textquotesingle{} =$>$ \textquotesingle{}Example\textquotesingle{}, \textquotesingle{}last\+Name\textquotesingle{} =$>$ \textquotesingle{}User\textquotesingle{}, \textquotesingle{}number\textquotesingle{} =$>$ \textquotesingle{}4111111111111111\textquotesingle{}, \textquotesingle{}expiry\+Month\textquotesingle{} =$>$ \textquotesingle{}01\textquotesingle{}, \textquotesingle{}expiry\+Year\textquotesingle{} =$>$ \textquotesingle{}2020\textquotesingle{}, \textquotesingle{}cvv\textquotesingle{} =$>$ \textquotesingle{}123\textquotesingle{}, \textquotesingle{}billing\+Address1\textquotesingle{} =$>$ \textquotesingle{}1 Scrubby Creek Road\textquotesingle{}, \textquotesingle{}billing\+Country\textquotesingle{} =$>$ \textquotesingle{}AU\textquotesingle{}, \textquotesingle{}billing\+City\textquotesingle{} =$>$ \textquotesingle{}Scrubby Creek\textquotesingle{}, \textquotesingle{}billing\+Postcode\textquotesingle{} =$>$ \textquotesingle{}4999\textquotesingle{}, \textquotesingle{}billing\+State\textquotesingle{} =$>$ \textquotesingle{}QLD\textquotesingle{}, ));}

{\ttfamily  // Do a purchase transaction on the gateway try \{ \$transaction = \$gateway-\/$>$purchase(array( \textquotesingle{}amount\textquotesingle{} =$>$ \textquotesingle{}10.\+00\textquotesingle{}, \textquotesingle{}currency\textquotesingle{} =$>$ \textquotesingle{}AUD\textquotesingle{}, \textquotesingle{}description\textquotesingle{} =$>$ \textquotesingle{}This is a test purchase transaction.\textquotesingle{}, \textquotesingle{}card\textquotesingle{} =$>$ \$card, )); \$response = \$transaction-\/$>$send(); \$data = \$response-\/$>$\mbox{\hyperlink{namespace_davaxi_1_1_sparkline_a1ee52c8cf79b8bc90728a15aec6866d0}{get\+Data()}}; echo \char`\"{}\+Gateway purchase response data == \char`\"{} . print\+\_\+r(\$data, true) . \char`\"{}\textbackslash{}n\char`\"{};}

{\ttfamily  if (\$response-\/$>$is\+Successful()) \{ echo \char`\"{}\+Purchase transaction was successful!\textbackslash{}n\char`\"{}; \} \} catch (\textbackslash{}\+Exception \$e) \{ echo \char`\"{}\+Exception caught while attempting authorize.\textbackslash{}n\char`\"{}; echo \char`\"{}\+Exception type == \char`\"{} . get\+\_\+class(\$e) . \char`\"{}\textbackslash{}n\char`\"{}; echo \char`\"{}\+Message == \char`\"{} . \$e-\/$>$get\+Message() . \char`\"{}\textbackslash{}n\char`\"{}; \} }\hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md197}{}\doxyparagraph{Dashboard}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_autotoc_md197}
Once you have processed some payments you can go to the \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} sandbox site, at \href{https://www.sandbox.paypal.com/}{\texttt{ https\+://www.\+sandbox.\+paypal.\+com/}} and log in with the email address and password of your \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} sandbox business test account. You will then see the result of those transactions on the \char`\"{}\+My recent activity\char`\"{} list under the My Account tab.

\mbox{\hyperlink{}{\href{https://devtools-paypal.com/integrationwizard/}{\texttt{ https\+://devtools-\/paypal.\+com/integrationwizard/}}  \href{http://paypal.github.io/sdk/}{\texttt{ http\+://paypal.\+github.\+io/sdk/}}  \href{https://developer.paypal.com/docs/integration/direct/rest_api_payment_country_currency_support/}{\texttt{ https\+://developer.\+paypal.\+com/docs/integration/direct/rest\+\_\+api\+\_\+payment\+\_\+country\+\_\+currency\+\_\+support/}}  \href{https://developer.paypal.com/docs/faq/}{\texttt{ https\+://developer.\+paypal.\+com/docs/faq/}}  \href{https://developer.paypal.com/docs/integration/direct/make-your-first-call/}{\texttt{ https\+://developer.\+paypal.\+com/docs/integration/direct/make-\/your-\/first-\/call/}}  \href{https://developer.paypal.com/docs/integration/web/accept-paypal-payment/}{\texttt{ https\+://developer.\+paypal.\+com/docs/integration/web/accept-\/paypal-\/payment/}}  \href{https://developer.paypal.com/docs/api/\#authentication&ndash;headers}{\texttt{ https\+://developer.\+paypal.\+com/docs/api/\#authentication--headers}}  Omnipay }}

Definition at line 152 of file Rest\+Gateway.\+php.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a5974010488ddf2d80e365958f05300ab}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a5974010488ddf2d80e365958f05300ab}} 
\index{RestGateway@{RestGateway}!authorize@{authorize}}
\index{authorize@{authorize}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{authorize()}{authorize()}}
{\footnotesize\ttfamily authorize (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Create an authorization request.

To collect payment at a later time, first authorize a payment using the /payment resource. You can then capture the payment to complete the sale and collect payment.

\mbox{\hyperlink{}{\href{https://developer.paypal.com/docs/api/\#authorizations}{\texttt{ https\+://developer.\+paypal.\+com/docs/api/\#authorizations}}  array \$parameters   }}

Definition at line 439 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a3462db82b7724066af0f642afa44674b}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a3462db82b7724066af0f642afa44674b}} 
\index{RestGateway@{RestGateway}!cancelSubscription@{cancelSubscription}}
\index{cancelSubscription@{cancelSubscription}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{cancelSubscription()}{cancelSubscription()}}
{\footnotesize\ttfamily cancel\+Subscription (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Cancel a subscription.

Use this call to cancel an agreement.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 660 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_afe75267613416bde4e63059760bfd66c}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_afe75267613416bde4e63059760bfd66c}} 
\index{RestGateway@{RestGateway}!capture@{capture}}
\index{capture@{capture}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{capture()}{capture()}}
{\footnotesize\ttfamily capture (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Capture an authorization.

Use this resource to capture and process a previously created authorization. To use this resource, the original payment call must have the intent set to authorize.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 469 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a83eb7c8b8a5637f73426dc1386cece84}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a83eb7c8b8a5637f73426dc1386cece84}} 
\index{RestGateway@{RestGateway}!completePurchase@{completePurchase}}
\index{completePurchase@{completePurchase}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{completePurchase()}{completePurchase()}}
{\footnotesize\ttfamily complete\+Purchase (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Completes a purchase request.

\mbox{\hyperlink{}{array \$parameters  Message }}

Definition at line 414 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aa85fe2cc087150338f49cdd67317ad86}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aa85fe2cc087150338f49cdd67317ad86}} 
\index{RestGateway@{RestGateway}!completeSubscription@{completeSubscription}}
\index{completeSubscription@{completeSubscription}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{completeSubscription()}{completeSubscription()}}
{\footnotesize\ttfamily complete\+Subscription (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Complete (execute) a subscription.

Use this call to execute an agreement after the buyer approves it.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 646 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a3fd3f3cca9c261ea4766647add679f68}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a3fd3f3cca9c261ea4766647add679f68}} 
\index{RestGateway@{RestGateway}!createCard@{createCard}}
\index{createCard@{createCard}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{createCard()}{createCard()}}
{\footnotesize\ttfamily create\+Card (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Store a credit card in the vault

You can currently use the /vault API to store credit card details with \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} instead of storing them on your own server. After storing a credit card, you can then pass the credit card id instead of the related credit card details to complete a payment.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 545 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ac9804961c0e47f1e0faa08c2e1093f13}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ac9804961c0e47f1e0faa08c2e1093f13}} 
\index{RestGateway@{RestGateway}!createPlan@{createPlan}}
\index{createPlan@{createPlan}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{createPlan()}{createPlan()}}
{\footnotesize\ttfamily create\+Plan (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Create a billing plan.

You can create an empty billing plan and add a trial period and/or regular billing. Alternatively, you can create a fully loaded plan that includes both a trial period and regular billing. Note\+: By default, a created billing plan is in a CREATED state. A user cannot subscribe to the billing plan unless it has been set to the ACTIVE state.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 585 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a67bbf543fe83f3fc2fb67c1b87b43956}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a67bbf543fe83f3fc2fb67c1b87b43956}} 
\index{RestGateway@{RestGateway}!createRequest@{createRequest}}
\index{createRequest@{createRequest}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{createRequest()}{createRequest()}}
{\footnotesize\ttfamily create\+Request (\begin{DoxyParamCaption}\item[{}]{\$class,  }\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Create Request

This overrides the parent create\+Request function ensuring that the OAuth 2.\+0 access token is passed along with the request data -- unless the request is a Rest\+Token\+Request in which case no token is needed. If no token is available then a new one is created (e.\+g. if there has been no token request or the current token has expired).


\begin{DoxyParams}[1]{Parameters}
string & {\em \$class} & \\
\hline
array & {\em \$parameters} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\textbackslash{}\+Omnipay\textbackslash{}\+Pay\+Pal\textbackslash{}\+Message\textbackslash{}\+Abstract\+Rest\+Request 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{class_omnipay_1_1_common_1_1_abstract_gateway_abbf6da6a572f4d2b73e3c0a6c20e924f}{Abstract\+Gateway}}.



Definition at line 342 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ae3f4e2b4f6feea4b85c8803a0e852b2e}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ae3f4e2b4f6feea4b85c8803a0e852b2e}} 
\index{RestGateway@{RestGateway}!createSubscription@{createSubscription}}
\index{createSubscription@{createSubscription}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{createSubscription()}{createSubscription()}}
{\footnotesize\ttfamily create\+Subscription (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Create a subscription.

Use this call to create a billing agreement for the buyer.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 632 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aa1aef44862d658669a3cd82487f7f018}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aa1aef44862d658669a3cd82487f7f018}} 
\index{RestGateway@{RestGateway}!createToken@{createToken}}
\index{createToken@{createToken}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{createToken()}{createToken()}}
{\footnotesize\ttfamily create\+Token (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Create OAuth 2.\+0 access token request.

\begin{DoxyReturn}{Returns}
\textbackslash{}\+Omnipay\textbackslash{}\+Pay\+Pal\textbackslash{}\+Message\textbackslash{}\+Rest\+Token\+Request 
\end{DoxyReturn}


Definition at line 275 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a21d05f4848534a1e57c3d722ec519811}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a21d05f4848534a1e57c3d722ec519811}} 
\index{RestGateway@{RestGateway}!deleteCard@{deleteCard}}
\index{deleteCard@{deleteCard}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{deleteCard()}{deleteCard()}}
{\footnotesize\ttfamily delete\+Card (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Delete a credit card from the vault.

Updating a card in the vault is no longer supported -- see \href{http://stackoverflow.com/questions/20858910/paypal-rest-api-update-a-stored-credit-card}{\texttt{ http\+://stackoverflow.\+com/questions/20858910/paypal-\/rest-\/api-\/update-\/a-\/stored-\/credit-\/card}} Therefore the only way to update a card is to remove it using delete\+Card and then re-\/add it using create\+Card.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 562 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a7cfe12bab586d66f6f0a1269bfa9ff1d}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a7cfe12bab586d66f6f0a1269bfa9ff1d}} 
\index{RestGateway@{RestGateway}!fetchPurchase@{fetchPurchase}}
\index{fetchPurchase@{fetchPurchase}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{fetchPurchase()}{fetchPurchase()}}
{\footnotesize\ttfamily fetch\+Purchase (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Fetch a purchase request.

Use this call to get details about payments that have not completed, such as payments that are created and approved, or if a payment has failed.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 386 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a47e4691bb487eb318643775afd508a8c}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a47e4691bb487eb318643775afd508a8c}} 
\index{RestGateway@{RestGateway}!fetchTransaction@{fetchTransaction}}
\index{fetchTransaction@{fetchTransaction}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{fetchTransaction()}{fetchTransaction()}}
{\footnotesize\ttfamily fetch\+Transaction (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Fetch a Sale Transaction

To get details about completed payments (sale transaction) created by a payment request or to refund a direct sale transaction, \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} provides the /sale resource and related sub-\/resources.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 506 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ab52cbc793451bb2cfc64de9448558a71}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ab52cbc793451bb2cfc64de9448558a71}} 
\index{RestGateway@{RestGateway}!getClientId@{getClientId}}
\index{getClientId@{getClientId}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{getClientId()}{getClientId()}}
{\footnotesize\ttfamily get\+Client\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get OAuth 2.\+0 client ID for the access token.

Get an access token by using the OAuth 2.\+0 client\+\_\+credentials token grant type with your client\+Id\+:secret as your Basic Auth credentials.

\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}


Definition at line 199 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_afc7285c6639730467eb4a71daae1c985}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_afc7285c6639730467eb4a71daae1c985}} 
\index{RestGateway@{RestGateway}!getDefaultParameters@{getDefaultParameters}}
\index{getDefaultParameters@{getDefaultParameters}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{getDefaultParameters()}{getDefaultParameters()}}
{\footnotesize\ttfamily get\+Default\+Parameters (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
array 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{class_omnipay_1_1_common_1_1_abstract_gateway_afc7285c6639730467eb4a71daae1c985}{Abstract\+Gateway}}.



Definition at line 174 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a3d0963e68bb313b163a73f2803c64600}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a3d0963e68bb313b163a73f2803c64600}} 
\index{RestGateway@{RestGateway}!getName@{getName}}
\index{getName@{getName}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{getName()}{getName()}}
{\footnotesize\ttfamily get\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get gateway display name

This can be used by carts to get the display name for each gateway. 

Implements \mbox{\hyperlink{interface_omnipay_1_1_common_1_1_gateway_interface_a3d0963e68bb313b163a73f2803c64600}{Gateway\+Interface}}.



Definition at line 169 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ad00fcd750cd4307f2a9fd82b7f6807b5}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ad00fcd750cd4307f2a9fd82b7f6807b5}} 
\index{RestGateway@{RestGateway}!getSecret@{getSecret}}
\index{getSecret@{getSecret}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{getSecret()}{getSecret()}}
{\footnotesize\ttfamily get\+Secret (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get OAuth 2.\+0 secret for the access token.

Get an access token by using the OAuth 2.\+0 client\+\_\+credentials token grant type with your client\+Id\+:secret as your Basic Auth credentials.

\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}


Definition at line 228 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a8b4c22195ce91caea8b1d03bbab3bfc0}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a8b4c22195ce91caea8b1d03bbab3bfc0}} 
\index{RestGateway@{RestGateway}!getToken@{getToken}}
\index{getToken@{getToken}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{getToken()}{getToken()}}
{\footnotesize\ttfamily get\+Token (\begin{DoxyParamCaption}\item[{}]{\$create\+If\+Needed = {\ttfamily true} }\end{DoxyParamCaption})}

Get OAuth 2.\+0 access token.


\begin{DoxyParams}[1]{Parameters}
bool & {\em \$create\+If\+Needed} & \mbox{[}optional\mbox{]} -\/ If there is not an active token present, should we create one? \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}


Definition at line 254 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a424ae34ad4109e77d71c40ec05430613}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a424ae34ad4109e77d71c40ec05430613}} 
\index{RestGateway@{RestGateway}!getTokenExpires@{getTokenExpires}}
\index{getTokenExpires@{getTokenExpires}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{getTokenExpires()}{getTokenExpires()}}
{\footnotesize\ttfamily get\+Token\+Expires (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get OAuth 2.\+0 access token expiry time.

\begin{DoxyReturn}{Returns}
integer 
\end{DoxyReturn}


Definition at line 296 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a09c7c2b367d5e739295f45db34691f44}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a09c7c2b367d5e739295f45db34691f44}} 
\index{RestGateway@{RestGateway}!hasToken@{hasToken}}
\index{hasToken@{hasToken}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{hasToken()}{hasToken()}}
{\footnotesize\ttfamily has\+Token (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Is there a bearer token and is it still valid?

\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}


Definition at line 317 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aa081503efd5f93b68f6e99d38b8276b0}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aa081503efd5f93b68f6e99d38b8276b0}} 
\index{RestGateway@{RestGateway}!listPlan@{listPlan}}
\index{listPlan@{listPlan}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{listPlan()}{listPlan()}}
{\footnotesize\ttfamily list\+Plan (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

List billing plans.

Use this call to get a list of plans in any state (CREATED, ACTIVE, etc.). The plans returned are the plans made by the merchant making the call.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 618 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a6e8b358b274b76a106221ec5998b2301}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a6e8b358b274b76a106221ec5998b2301}} 
\index{RestGateway@{RestGateway}!listPurchase@{listPurchase}}
\index{listPurchase@{listPurchase}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{listPurchase()}{listPurchase()}}
{\footnotesize\ttfamily list\+Purchase (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

List purchase requests.

Use this call to get a list of payments in any state (created, approved, failed, etc.). The payments returned are the payments made to the merchant making the call.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 402 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a9d5d3f2935096f7b1ec131299c1e8f13}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a9d5d3f2935096f7b1ec131299c1e8f13}} 
\index{RestGateway@{RestGateway}!purchase@{purchase}}
\index{purchase@{purchase}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{purchase()}{purchase()}}
{\footnotesize\ttfamily purchase (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Create a purchase request.

\mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} provides various payment related operations using the /payment resource and related sub-\/resources. Use payment for direct credit card payments and \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} account payments. You can also use sub-\/resources to get payment related details.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 371 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a22acd65c32d9498ead10c5b9c6e3a636}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a22acd65c32d9498ead10c5b9c6e3a636}} 
\index{RestGateway@{RestGateway}!reactivateSubscription@{reactivateSubscription}}
\index{reactivateSubscription@{reactivateSubscription}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{reactivateSubscription()}{reactivateSubscription()}}
{\footnotesize\ttfamily reactivate\+Subscription (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Reactivate a suspended subscription.

Use this call to reactivate or un-\/suspend an agreement.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 688 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a8f8e4128843bca609ee61221c4a347f0}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a8f8e4128843bca609ee61221c4a347f0}} 
\index{RestGateway@{RestGateway}!refund@{refund}}
\index{refund@{refund}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{refund()}{refund()}}
{\footnotesize\ttfamily refund (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Refund a Sale Transaction

To get details about completed payments (sale transaction) created by a payment request or to refund a direct sale transaction, \mbox{\hyperlink{namespace_omnipay_1_1_pay_pal}{Pay\+Pal}} provides the /sale resource and related sub-\/resources.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 522 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ac1388e64ca43a7aa2438ecb56f22ebe4}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ac1388e64ca43a7aa2438ecb56f22ebe4}} 
\index{RestGateway@{RestGateway}!refundCapture@{refundCapture}}
\index{refundCapture@{refundCapture}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{refundCapture()}{refundCapture()}}
{\footnotesize\ttfamily refund\+Capture (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Refund a Captured Payment

To refund captured payments (authorization transaction) created by a authorize request.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 485 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a2f1ed7e72e4be9e7ef2a1ac238ab3418}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a2f1ed7e72e4be9e7ef2a1ac238ab3418}} 
\index{RestGateway@{RestGateway}!searchTransaction@{searchTransaction}}
\index{searchTransaction@{searchTransaction}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{searchTransaction()}{searchTransaction()}}
{\footnotesize\ttfamily search\+Transaction (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Search for transactions.

Use this call to search for the transactions within a billing agreement. Note that this is not a generic transaction search function -- for that see Rest\+List\+Purchase\+Request. It only searches for transactions within a billing agreement.

This should be used on a regular basis to determine the success / failure state of transactions on active billing agreements.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 708 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a920912a61d7f77e1bb4d4611d7d0657c}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a920912a61d7f77e1bb4d4611d7d0657c}} 
\index{RestGateway@{RestGateway}!setClientId@{setClientId}}
\index{setClientId@{setClientId}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{setClientId()}{setClientId()}}
{\footnotesize\ttfamily set\+Client\+Id (\begin{DoxyParamCaption}\item[{}]{\$value }\end{DoxyParamCaption})}

Set OAuth 2.\+0 client ID for the access token.

Get an access token by using the OAuth 2.\+0 client\+\_\+credentials token grant type with your client\+Id\+:secret as your Basic Auth credentials.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway}{Rest\+Gateway}} provides a fluent interface 
\end{DoxyReturn}


Definition at line 214 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a969c02f0adb4836f3ac334b9a5ccda0d}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a969c02f0adb4836f3ac334b9a5ccda0d}} 
\index{RestGateway@{RestGateway}!setSecret@{setSecret}}
\index{setSecret@{setSecret}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{setSecret()}{setSecret()}}
{\footnotesize\ttfamily set\+Secret (\begin{DoxyParamCaption}\item[{}]{\$value }\end{DoxyParamCaption})}

Set OAuth 2.\+0 secret for the access token.

Get an access token by using the OAuth 2.\+0 client\+\_\+credentials token grant type with your client\+Id\+:secret as your Basic Auth credentials.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway}{Rest\+Gateway}} provides a fluent interface 
\end{DoxyReturn}


Definition at line 243 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a0bddfccdd66c48554c51585cfdd768e5}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a0bddfccdd66c48554c51585cfdd768e5}} 
\index{RestGateway@{RestGateway}!setToken@{setToken}}
\index{setToken@{setToken}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{setToken()}{setToken()}}
{\footnotesize\ttfamily set\+Token (\begin{DoxyParamCaption}\item[{}]{\$value }\end{DoxyParamCaption})}

Set OAuth 2.\+0 access token.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway}{Rest\+Gateway}} provides a fluent interface 
\end{DoxyReturn}


Definition at line 286 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a16d8451975cc613e6ce1b0651bb2b14c}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a16d8451975cc613e6ce1b0651bb2b14c}} 
\index{RestGateway@{RestGateway}!setTokenExpires@{setTokenExpires}}
\index{setTokenExpires@{setTokenExpires}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{setTokenExpires()}{setTokenExpires()}}
{\footnotesize\ttfamily set\+Token\+Expires (\begin{DoxyParamCaption}\item[{}]{\$value }\end{DoxyParamCaption})}

Set OAuth 2.\+0 access token expiry time.


\begin{DoxyParams}[1]{Parameters}
integer & {\em \$value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_omnipay_1_1_pay_pal_1_1_rest_gateway}{Rest\+Gateway}} provides a fluent interface 
\end{DoxyReturn}


Definition at line 307 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a7e705efa73d84f073e2046568c8605bc}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a7e705efa73d84f073e2046568c8605bc}} 
\index{RestGateway@{RestGateway}!suspendSubscription@{suspendSubscription}}
\index{suspendSubscription@{suspendSubscription}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{suspendSubscription()}{suspendSubscription()}}
{\footnotesize\ttfamily suspend\+Subscription (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Suspend a subscription.

Use this call to suspend an agreement.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 674 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a53a8ba4e4985225fe834ec582be34245}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a53a8ba4e4985225fe834ec582be34245}} 
\index{RestGateway@{RestGateway}!updatePlan@{updatePlan}}
\index{updatePlan@{updatePlan}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{updatePlan()}{updatePlan()}}
{\footnotesize\ttfamily update\+Plan (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Update a billing plan.

You can update the information for an existing billing plan. The state of a plan must be active before a billing agreement is created.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 600 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a32b6c65cbbc617d7464ded7b16e05dd4}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a32b6c65cbbc617d7464ded7b16e05dd4}} 
\index{RestGateway@{RestGateway}!void@{void}}
\index{void@{void}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{void()}{void()}}
{\footnotesize\ttfamily void (\begin{DoxyParamCaption}\item[{array}]{\$parameters = {\ttfamily array()} }\end{DoxyParamCaption})}

Void an authorization.

To to void a previously authorized payment.

\mbox{\hyperlink{}{array \$parameters   }}

Definition at line 453 of file Rest\+Gateway.\+php.



\doxysubsection{Field Documentation}
\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ab233ec72de7ae4770341f690d7a75f2f}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ab233ec72de7ae4770341f690d7a75f2f}} 
\index{RestGateway@{RestGateway}!BILLING\_PLAN\_FREQUENCY\_DAY@{BILLING\_PLAN\_FREQUENCY\_DAY}}
\index{BILLING\_PLAN\_FREQUENCY\_DAY@{BILLING\_PLAN\_FREQUENCY\_DAY}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{BILLING\_PLAN\_FREQUENCY\_DAY}{BILLING\_PLAN\_FREQUENCY\_DAY}}
{\footnotesize\ttfamily const BILLING\+\_\+\+PLAN\+\_\+\+FREQUENCY\+\_\+\+DAY = \textquotesingle{}DAY\textquotesingle{}}



Definition at line 158 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a88cb4cf0e1aeedf4089864847d501bfa}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a88cb4cf0e1aeedf4089864847d501bfa}} 
\index{RestGateway@{RestGateway}!BILLING\_PLAN\_FREQUENCY\_MONTH@{BILLING\_PLAN\_FREQUENCY\_MONTH}}
\index{BILLING\_PLAN\_FREQUENCY\_MONTH@{BILLING\_PLAN\_FREQUENCY\_MONTH}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{BILLING\_PLAN\_FREQUENCY\_MONTH}{BILLING\_PLAN\_FREQUENCY\_MONTH}}
{\footnotesize\ttfamily const BILLING\+\_\+\+PLAN\+\_\+\+FREQUENCY\+\_\+\+MONTH = \textquotesingle{}MONTH\textquotesingle{}}



Definition at line 160 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a1dc37d45cd397480b3691cf12be17cca}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a1dc37d45cd397480b3691cf12be17cca}} 
\index{RestGateway@{RestGateway}!BILLING\_PLAN\_FREQUENCY\_WEEK@{BILLING\_PLAN\_FREQUENCY\_WEEK}}
\index{BILLING\_PLAN\_FREQUENCY\_WEEK@{BILLING\_PLAN\_FREQUENCY\_WEEK}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{BILLING\_PLAN\_FREQUENCY\_WEEK}{BILLING\_PLAN\_FREQUENCY\_WEEK}}
{\footnotesize\ttfamily const BILLING\+\_\+\+PLAN\+\_\+\+FREQUENCY\+\_\+\+WEEK = \textquotesingle{}WEEK\textquotesingle{}}



Definition at line 159 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ac978937865214d8c58215d737d28c259}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ac978937865214d8c58215d737d28c259}} 
\index{RestGateway@{RestGateway}!BILLING\_PLAN\_FREQUENCY\_YEAR@{BILLING\_PLAN\_FREQUENCY\_YEAR}}
\index{BILLING\_PLAN\_FREQUENCY\_YEAR@{BILLING\_PLAN\_FREQUENCY\_YEAR}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{BILLING\_PLAN\_FREQUENCY\_YEAR}{BILLING\_PLAN\_FREQUENCY\_YEAR}}
{\footnotesize\ttfamily const BILLING\+\_\+\+PLAN\+\_\+\+FREQUENCY\+\_\+\+YEAR = \textquotesingle{}YEAR\textquotesingle{}}



Definition at line 161 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a7ae5f72ec29b976947cb6b8f7be13f7c}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a7ae5f72ec29b976947cb6b8f7be13f7c}} 
\index{RestGateway@{RestGateway}!BILLING\_PLAN\_STATE\_ACTIVE@{BILLING\_PLAN\_STATE\_ACTIVE}}
\index{BILLING\_PLAN\_STATE\_ACTIVE@{BILLING\_PLAN\_STATE\_ACTIVE}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{BILLING\_PLAN\_STATE\_ACTIVE}{BILLING\_PLAN\_STATE\_ACTIVE}}
{\footnotesize\ttfamily const BILLING\+\_\+\+PLAN\+\_\+\+STATE\+\_\+\+ACTIVE = \textquotesingle{}ACTIVE\textquotesingle{}}



Definition at line 163 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a9991c048d8d6abdc1eaa2a30ec3dc0a4}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a9991c048d8d6abdc1eaa2a30ec3dc0a4}} 
\index{RestGateway@{RestGateway}!BILLING\_PLAN\_STATE\_CREATED@{BILLING\_PLAN\_STATE\_CREATED}}
\index{BILLING\_PLAN\_STATE\_CREATED@{BILLING\_PLAN\_STATE\_CREATED}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{BILLING\_PLAN\_STATE\_CREATED}{BILLING\_PLAN\_STATE\_CREATED}}
{\footnotesize\ttfamily const BILLING\+\_\+\+PLAN\+\_\+\+STATE\+\_\+\+CREATED = \textquotesingle{}CREATED\textquotesingle{}}



Definition at line 162 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aff7138301bb10acf4a286ba6ea54a553}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_aff7138301bb10acf4a286ba6ea54a553}} 
\index{RestGateway@{RestGateway}!BILLING\_PLAN\_STATE\_DELETED@{BILLING\_PLAN\_STATE\_DELETED}}
\index{BILLING\_PLAN\_STATE\_DELETED@{BILLING\_PLAN\_STATE\_DELETED}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{BILLING\_PLAN\_STATE\_DELETED}{BILLING\_PLAN\_STATE\_DELETED}}
{\footnotesize\ttfamily const BILLING\+\_\+\+PLAN\+\_\+\+STATE\+\_\+\+DELETED = \textquotesingle{}DELETED\textquotesingle{}}



Definition at line 165 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a02ef39eae7292d5373941c7fd66592df}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a02ef39eae7292d5373941c7fd66592df}} 
\index{RestGateway@{RestGateway}!BILLING\_PLAN\_STATE\_INACTIVE@{BILLING\_PLAN\_STATE\_INACTIVE}}
\index{BILLING\_PLAN\_STATE\_INACTIVE@{BILLING\_PLAN\_STATE\_INACTIVE}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{BILLING\_PLAN\_STATE\_INACTIVE}{BILLING\_PLAN\_STATE\_INACTIVE}}
{\footnotesize\ttfamily const BILLING\+\_\+\+PLAN\+\_\+\+STATE\+\_\+\+INACTIVE = \textquotesingle{}INACTIVE\textquotesingle{}}



Definition at line 164 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a9ca3651b087ca2709b329c5e2cc0a42f}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a9ca3651b087ca2709b329c5e2cc0a42f}} 
\index{RestGateway@{RestGateway}!BILLING\_PLAN\_TYPE\_FIXED@{BILLING\_PLAN\_TYPE\_FIXED}}
\index{BILLING\_PLAN\_TYPE\_FIXED@{BILLING\_PLAN\_TYPE\_FIXED}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{BILLING\_PLAN\_TYPE\_FIXED}{BILLING\_PLAN\_TYPE\_FIXED}}
{\footnotesize\ttfamily const BILLING\+\_\+\+PLAN\+\_\+\+TYPE\+\_\+\+FIXED = \textquotesingle{}FIXED\textquotesingle{}}



Definition at line 156 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_af98fee4f01df4c6b7e62c4583931914a}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_af98fee4f01df4c6b7e62c4583931914a}} 
\index{RestGateway@{RestGateway}!BILLING\_PLAN\_TYPE\_INFINITE@{BILLING\_PLAN\_TYPE\_INFINITE}}
\index{BILLING\_PLAN\_TYPE\_INFINITE@{BILLING\_PLAN\_TYPE\_INFINITE}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{BILLING\_PLAN\_TYPE\_INFINITE}{BILLING\_PLAN\_TYPE\_INFINITE}}
{\footnotesize\ttfamily const BILLING\+\_\+\+PLAN\+\_\+\+TYPE\+\_\+\+INFINITE = \textquotesingle{}INFINITE\textquotesingle{}}



Definition at line 157 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ab1e1dd1f8a5e4ba8eb81b256334cf6a7}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_ab1e1dd1f8a5e4ba8eb81b256334cf6a7}} 
\index{RestGateway@{RestGateway}!PAYMENT\_REGULAR@{PAYMENT\_REGULAR}}
\index{PAYMENT\_REGULAR@{PAYMENT\_REGULAR}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{PAYMENT\_REGULAR}{PAYMENT\_REGULAR}}
{\footnotesize\ttfamily const PAYMENT\+\_\+\+REGULAR = \textquotesingle{}REGULAR\textquotesingle{}}



Definition at line 167 of file Rest\+Gateway.\+php.

\mbox{\Hypertarget{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a30a716358e90dbc0d0e85d6001da41af}\label{class_omnipay_1_1_pay_pal_1_1_rest_gateway_a30a716358e90dbc0d0e85d6001da41af}} 
\index{RestGateway@{RestGateway}!PAYMENT\_TRIAL@{PAYMENT\_TRIAL}}
\index{PAYMENT\_TRIAL@{PAYMENT\_TRIAL}!RestGateway@{RestGateway}}
\doxysubsubsection{\texorpdfstring{PAYMENT\_TRIAL}{PAYMENT\_TRIAL}}
{\footnotesize\ttfamily const PAYMENT\+\_\+\+TRIAL = \textquotesingle{}TRIAL\textquotesingle{}}



Definition at line 166 of file Rest\+Gateway.\+php.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pixel/shop/vendor/omnipay/paypal/src/\mbox{\hyperlink{_rest_gateway_8php}{Rest\+Gateway.\+php}}\end{DoxyCompactItemize}
