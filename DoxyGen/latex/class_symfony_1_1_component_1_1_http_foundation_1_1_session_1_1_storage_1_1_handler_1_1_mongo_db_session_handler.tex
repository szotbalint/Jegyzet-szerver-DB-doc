\hypertarget{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler}{}\doxysection{Mongo\+Db\+Session\+Handler Class Reference}
\label{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler}\index{MongoDbSessionHandler@{MongoDbSessionHandler}}
Inheritance diagram for Mongo\+Db\+Session\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a640a11f9c57922e3bd8f7f7d9f43469b}{\+\_\+\+\_\+construct}} (\$mongo, array \$options)
\item 
\mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_aa69c8bf1f1dcf4e72552efff1fe3e87e}{close}} ()
\item 
\mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a57aff7ee0656d8aa75d545fb8b3ae35d}{gc}} (\$maxlifetime)
\item 
\mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_adfa934d99b3938f501cfb33c362ce3f4}{update\+Timestamp}} (\$session\+Id, \$data)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_aa1cd066a5d990e81f148008d71891f5f}{do\+Destroy}} (\$session\+Id)
\item 
\mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a0654f136ee2b202c3313c5a14f73767c}{do\+Write}} (\$session\+Id, \$data)
\item 
\mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a7fe594bee4463519712242def0bc39aa}{do\+Read}} (\$session\+Id)
\item 
\mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_ab73b381ebda7cab0ad57f69bfa0686c4}{get\+Mongo}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_session}{Session}} handler using the mongodb/mongodb package and Mongo\+DB driver extension.

\begin{DoxyAuthor}{Author}
Markus Bachmann \href{mailto:markus.bachmann@bachi.biz}{\texttt{ markus.\+bachmann@bachi.\+biz}}
\end{DoxyAuthor}
\begin{DoxySeeAlso}{See also}
\href{https://packagist.org/packages/mongodb/mongodb}{\texttt{ https\+://packagist.\+org/packages/mongodb/mongodb}} 

\href{https://php.net/mongodb}{\texttt{ https\+://php.\+net/mongodb}} 
\end{DoxySeeAlso}


Definition at line 22 of file Mongo\+Db\+Session\+Handler.\+php.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a640a11f9c57922e3bd8f7f7d9f43469b}\label{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a640a11f9c57922e3bd8f7f7d9f43469b}} 
\index{MongoDbSessionHandler@{MongoDbSessionHandler}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!MongoDbSessionHandler@{MongoDbSessionHandler}}
\doxysubsubsection{\texorpdfstring{\_\_construct()}{\_\_construct()}}
{\footnotesize\ttfamily \+\_\+\+\_\+construct (\begin{DoxyParamCaption}\item[{}]{\$mongo,  }\item[{array}]{\$options }\end{DoxyParamCaption})}

Constructor.

List of available options\+:
\begin{DoxyItemize}
\item database\+: The name of the database \mbox{[}required\mbox{]}
\item collection\+: The name of the collection \mbox{[}required\mbox{]}
\item id\+\_\+field\+: The field name for storing the session id \mbox{[}default\+: \+\_\+id\mbox{]}
\item data\+\_\+field\+: The field name for storing the session data \mbox{[}default\+: data\mbox{]}
\item time\+\_\+field\+: The field name for storing the timestamp \mbox{[}default\+: time\mbox{]}
\item expiry\+\_\+field\+: The field name for storing the expiry-\/timestamp \mbox{[}default\+: expires\+\_\+at\mbox{]}.
\end{DoxyItemize}

It is strongly recommended to put an index on the {\ttfamily expiry\+\_\+field} for garbage-\/collection. Alternatively it\textquotesingle{}s possible to automatically expire the sessions in the database as described below\+:

A TTL collections can be used on Mongo\+DB 2.\+2+ to cleanup expired sessions automatically. Such an index can for example look like this\+: \begin{DoxyVerb}db.<session-collection>.ensureIndex(
    { "<expiry-field>": 1 },
    { "expireAfterSeconds": 0 }
)
\end{DoxyVerb}
 More details on\+: \href{https://docs.mongodb.org/manual/tutorial/expire-data/}{\texttt{ https\+://docs.\+mongodb.\+org/manual/tutorial/expire-\/data/}}

If you use such an index, you can drop {\ttfamily gc\+\_\+probability} to 0 since no garbage-\/collection is required.


\begin{DoxyParams}[1]{Parameters}
\textbackslash{}\+Mongo\+DB\textbackslash{}\+Client & {\em \$mongo} & A Mongo\+DB\textbackslash{}\+Client instance \\
\hline
array & {\em \$options} & An associative array of field options\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}


Definition at line 70 of file Mongo\+Db\+Session\+Handler.\+php.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_aa69c8bf1f1dcf4e72552efff1fe3e87e}\label{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_aa69c8bf1f1dcf4e72552efff1fe3e87e}} 
\index{MongoDbSessionHandler@{MongoDbSessionHandler}!close@{close}}
\index{close@{close}!MongoDbSessionHandler@{MongoDbSessionHandler}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\{\} 

Definition at line 97 of file Mongo\+Db\+Session\+Handler.\+php.

\mbox{\Hypertarget{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_aa1cd066a5d990e81f148008d71891f5f}\label{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_aa1cd066a5d990e81f148008d71891f5f}} 
\index{MongoDbSessionHandler@{MongoDbSessionHandler}!doDestroy@{doDestroy}}
\index{doDestroy@{doDestroy}!MongoDbSessionHandler@{MongoDbSessionHandler}}
\doxysubsubsection{\texorpdfstring{doDestroy()}{doDestroy()}}
{\footnotesize\ttfamily do\+Destroy (\begin{DoxyParamCaption}\item[{}]{\$session\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\{
\begin{DoxyParams}[1]{Parameters}
string & {\em \$session\+Id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool
\end{DoxyReturn}
\} 

Reimplemented from \mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_abstract_session_handler_aa1cd066a5d990e81f148008d71891f5f}{Abstract\+Session\+Handler}}.



Definition at line 105 of file Mongo\+Db\+Session\+Handler.\+php.

\mbox{\Hypertarget{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a7fe594bee4463519712242def0bc39aa}\label{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a7fe594bee4463519712242def0bc39aa}} 
\index{MongoDbSessionHandler@{MongoDbSessionHandler}!doRead@{doRead}}
\index{doRead@{doRead}!MongoDbSessionHandler@{MongoDbSessionHandler}}
\doxysubsubsection{\texorpdfstring{doRead()}{doRead()}}
{\footnotesize\ttfamily do\+Read (\begin{DoxyParamCaption}\item[{}]{\$session\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\{
\begin{DoxyParams}[1]{Parameters}
string & {\em \$session\+Id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string
\end{DoxyReturn}
\} 

Reimplemented from \mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_abstract_session_handler_a7fe594bee4463519712242def0bc39aa}{Abstract\+Session\+Handler}}.



Definition at line 192 of file Mongo\+Db\+Session\+Handler.\+php.

\mbox{\Hypertarget{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a0654f136ee2b202c3313c5a14f73767c}\label{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a0654f136ee2b202c3313c5a14f73767c}} 
\index{MongoDbSessionHandler@{MongoDbSessionHandler}!doWrite@{doWrite}}
\index{doWrite@{doWrite}!MongoDbSessionHandler@{MongoDbSessionHandler}}
\doxysubsubsection{\texorpdfstring{doWrite()}{doWrite()}}
{\footnotesize\ttfamily do\+Write (\begin{DoxyParamCaption}\item[{}]{\$session\+Id,  }\item[{}]{\$data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\{
\begin{DoxyParams}[1]{Parameters}
string & {\em \$session\+Id} & \\
\hline
string & {\em \$data} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool
\end{DoxyReturn}
\} 

Reimplemented from \mbox{\hyperlink{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_abstract_session_handler_a0654f136ee2b202c3313c5a14f73767c}{Abstract\+Session\+Handler}}.



Definition at line 133 of file Mongo\+Db\+Session\+Handler.\+php.

\mbox{\Hypertarget{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a57aff7ee0656d8aa75d545fb8b3ae35d}\label{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_a57aff7ee0656d8aa75d545fb8b3ae35d}} 
\index{MongoDbSessionHandler@{MongoDbSessionHandler}!gc@{gc}}
\index{gc@{gc}!MongoDbSessionHandler@{MongoDbSessionHandler}}
\doxysubsubsection{\texorpdfstring{gc()}{gc()}}
{\footnotesize\ttfamily gc (\begin{DoxyParamCaption}\item[{}]{\$maxlifetime }\end{DoxyParamCaption})}

\{\} 

Definition at line 119 of file Mongo\+Db\+Session\+Handler.\+php.

\mbox{\Hypertarget{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_ab73b381ebda7cab0ad57f69bfa0686c4}\label{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_ab73b381ebda7cab0ad57f69bfa0686c4}} 
\index{MongoDbSessionHandler@{MongoDbSessionHandler}!getMongo@{getMongo}}
\index{getMongo@{getMongo}!MongoDbSessionHandler@{MongoDbSessionHandler}}
\doxysubsubsection{\texorpdfstring{getMongo()}{getMongo()}}
{\footnotesize\ttfamily get\+Mongo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Return a Mongo instance.

\begin{DoxyReturn}{Returns}
\textbackslash{}\+Mongo$\vert$\textbackslash{}\+Mongo\+Client$\vert$\textbackslash{}\+Mongo\+DB\textbackslash{}\+Client 
\end{DoxyReturn}


Definition at line 229 of file Mongo\+Db\+Session\+Handler.\+php.

\mbox{\Hypertarget{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_adfa934d99b3938f501cfb33c362ce3f4}\label{class_symfony_1_1_component_1_1_http_foundation_1_1_session_1_1_storage_1_1_handler_1_1_mongo_db_session_handler_adfa934d99b3938f501cfb33c362ce3f4}} 
\index{MongoDbSessionHandler@{MongoDbSessionHandler}!updateTimestamp@{updateTimestamp}}
\index{updateTimestamp@{updateTimestamp}!MongoDbSessionHandler@{MongoDbSessionHandler}}
\doxysubsubsection{\texorpdfstring{updateTimestamp()}{updateTimestamp()}}
{\footnotesize\ttfamily update\+Timestamp (\begin{DoxyParamCaption}\item[{}]{\$session\+Id,  }\item[{}]{\$data }\end{DoxyParamCaption})}

\{\} 

Definition at line 165 of file Mongo\+Db\+Session\+Handler.\+php.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pixel/shop/vendor/symfony/http-\/foundation/\+Session/\+Storage/\+Handler/\mbox{\hyperlink{_mongo_db_session_handler_8php}{Mongo\+Db\+Session\+Handler.\+php}}\end{DoxyCompactItemize}
