<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jegyzetszerver: Sitemap generator plugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Jegyzetszerver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Sitemap generator plugin </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This plugin will a generate <code>sitemap.xml</code> file in OctoberCMS based on desired CMS pages and others.</p>
<h1><a class="anchor" id="autotoc_md507"></a>
Viewing the sitemap</h1>
<p>Once this plugin is installed and the sitemap has been configured. The sitemap can be viewed by accessing the file relative to the website base path. For example, if the website is hosted at <a href="http://octobercms.com/">http://octobercms.com/</a> it can be viewed by opening this URL: </p><pre class="fragment">http://octobercms.com/sitemap.xml
</pre> <h1><a class="anchor" id="autotoc_md508"></a>
Managing a sitemap definition</h1>
<p>The sitemap is managed by selecting Sitemap from the Settings area of the back-end. There is a single sitemap definition for each theme and it will be created automatically.</p>
<p>A sitemap definition can contain multiple items and each item has a number of properties. There are common properties for all item types, and some properties depend on the item type. The common item properties are <b>Priority</b> and <b>Change frequency</b>. The Priority defines the priority of this item relative to other items in the sitemap. The Change frequency defines how frequently the page is likely to change.</p>
<h3><a class="anchor" id="autotoc_md509"></a>
Standard item types</h3>
<p>The available item types depend on the installed plugins, but there are three basic item types that are supported out of the box.</p>
<h5>URL {.subheader}</h5>
<p>Items of this type are links to a specific fixed URL. That could be an URL of an or internal page. Items of this type don't have any other properties - just the title and URL.</p>
<h5>Static page {.subheader}</h5>
<p>Items of this type refer to static pages. The static page should be selected in the <b>Reference</b> drop-down list described below.</p>
<h5>All static pages {.subheader}</h5>
<p>Items of this type expand to create links to all static pages defined in the theme.</p>
<h3><a class="anchor" id="autotoc_md510"></a>
Custom item types</h3>
<p>Other plugins can supply new item types. For example, the <a href="http://octobercms.com/plugin/rainlab-blog">Blog plugin</a> by <a href="http://octobercms.com/author/RainLab">RainLab</a> supplies two more types:</p>
<h5>Blog category {.subheader}</h5>
<p>An item of this type represents a link to a specific blog category. The category should be selected in the <b>Reference</b> drop-down. This type also requires selecting a <b>CMS page</b> that outputs a blog category.</p>
<h5>All blog categories {.subheader}</h5>
<p>An item of this time expands into multiple items representing all blog existing categories. This type also requires selecting a <b>CMS page</b>.</p>
<h3><a class="anchor" id="autotoc_md511"></a>
Definition item properties</h3>
<p>Depending on the selected item time you might need to provide other properties of the item. The available properties are described below.</p>
<h5>Reference {.subheader}</h5>
<p>A drop-down list of objects the item should refer to. The list content depends on the item type. For the <b>Static page</b> item type the list displays all static pages defined in the system. For the <b>Blog category</b> item type the list displays a list of blog categories.</p>
<h5>Allow nested items {.subheader}</h5>
<p>This checkbox is available only for item types that suppose nested objects. For example, static pages are hierarchical, and this property is available for the <b>Static page</b> item type. On the other hand, blog categories are not hierarchical, and the checkbox is hidden.</p>
<h5>CMS Page {.subheader}</h5>
<p>This drop-down is available for item types that require a special CMS page to refer to. For example, the <b>Blog category</b> item type requires a CMS page that hosts the <code>blogPosts</code> component. The CMS Page drop-down for this item type will only display pages that include this component.</p>
<hr  />
<p>The Sitemap plugin works <em>out of the box</em> and does not require any direct development to operate.</p>
<h4><a class="anchor" id="autotoc_md513"></a>
Registering new sitemap definition item types</h4>
<p>The Sitemap plugin shares the same events for registering item types as the <a href="http://octobercms.com/plugin/rainlab-pages">Pages plugin</a>. See the documentation provided by this plugin for more information.</p>
<p>A small addition is required when resolving items, via the following event:</p>
<ul>
<li><code>pages.menuitem.resolveItem</code> event handler "resolves" a menu item information and returns the actual item URL, title, an indicator whether the item is currently active, and subitems, if any.</li>
</ul>
<h4><a class="anchor" id="autotoc_md514"></a>
Resolving items</h4>
<p>When resolving an item, each item should return an extra key in the array called <code>mtime</code>. This should be a Date object (see <code>Carbon\Carbon</code>) or a timestamp value compatible with PHP's <code>date()</code> function and represent the last time the link was modified.</p>
<p>Expected result format:</p>
<div class="fragment"><div class="line">Array (</div>
<div class="line">    [url] =&gt; http://example.com/blog/category/another-category</div>
<div class="line">    [mtime] =&gt; Carbon::now(),</div>
<div class="line">    [items] =&gt; Array (</div>
<div class="line">        [0] =&gt; Array (</div>
<div class="line">            [url] =&gt; http://example.com/blog/category/another-category</div>
<div class="line">            [mtime] =&gt; Carbon::now(),</div>
<div class="line">        )</div>
<div class="line"> </div>
<div class="line">        [1] =&gt; Array (</div>
<div class="line">            [url] =&gt; http://example.com/blog/category/news</div>
<div class="line">            [mtime] =&gt; Carbon::now(),</div>
<div class="line">        )</div>
<div class="line">    )</div>
<div class="line">)</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
